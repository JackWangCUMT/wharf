<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <title>Wharf by cglewis</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Wharf</h1>
        <h2>Wharf</h2>

        <section id="downloads">
          <a href="https://github.com/cglewis/wharf/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/cglewis/wharf/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/cglewis/wharf" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a name="wharf" class="anchor" href="#wharf"><span class="octicon octicon-link"></span></a><a href="http://cglewis.github.io/wharf">wharf</a>
</h1>

<p><img src="https://raw.github.com/cglewis/wharf/master/static/wharf_icon.png" alt="Wharf L" title="Wharf"></p>

<p>Wharf is an open-source Software-as-a-Service platform built with the power of Docker to enable any Dockerfile and some basic metadata to become an on-demand service in the cloud.</p>

<p><a href="http://dockerwharf.com">Demo of Wharf Running</a></p>

<h1>
<a name="adding-a-service" class="anchor" href="#adding-a-service"><span class="octicon octicon-link"></span></a>Adding a Service</h1>

<h5>
<a name="import-a-github-repository-via-the-clone-url" class="anchor" href="#import-a-github-repository-via-the-clone-url"><span class="octicon octicon-link"></span></a>Import a Github repository via the clone URL:</h5>

<pre><code>i.e. https://github.com/cglewis/wharf-services-example.git
</code></pre>

<p>Option 1</p>

<pre><code>|─Service1
  |─client
    |─client.txt
    └─test.py (this should be whatever is specified in the client.txt, see below)
  |─docker
    └─Dockerfile
  |─html
    |─about.html
    |─body.html
    └─link.html
  └─description.txt
└─Service2
  |─client
    |─client.txt
    └─test.py (this should be whatever is specified in the client.txt, see below)
  |─docker
    └─Dockerfile
  |─html
    |─about.html
    |─body.html
    └─link.html
  └─description.txt
</code></pre>

<p>Option 2</p>

<pre><code>|─Service1
  └─Dockerfile
└─Service2
  └─Dockerfile
</code></pre>

<p>Option 3</p>

<pre><code>|─Dockerfile
</code></pre>

<h5>
<a name="upload-a-zip-for-tarball" class="anchor" href="#upload-a-zip-for-tarball"><span class="octicon octicon-link"></span></a>Upload a zip for tarball:</h5>

<p>Create a .zip or .tar.gz of your service.</p>

<pre><code>|─Service1
  |─client
    |─client.txt
    └─test.py (this should be whatever is specified in the client.txt, see below)
  |─docker
    └─Dockerfile
  |─html
    |─about.html
    |─body.html
    └─link.html
  └─description.txt
</code></pre>

<h5>
<a name="import-a-docker-index-container-via-the-indexdockerio-url" class="anchor" href="#import-a-docker-index-container-via-the-indexdockerio-url"><span class="octicon octicon-link"></span></a>Import a docker index container via the index.docker.io URL:</h5>

<pre><code>i.e. https://index.docker.io/u/aespinosa/jenkins/
</code></pre>

<h1>
<a name="metadata" class="anchor" href="#metadata"><span class="octicon octicon-link"></span></a>Metadata</h1>

<h4>
<a name="descriptiontxt" class="anchor" href="#descriptiontxt"><span class="octicon octicon-link"></span></a>description.txt</h4>

<p>Contains a brief description of the service.</p>

<pre><code>i.e.
  ElasticSearch, distributed restful search and analytics.
</code></pre>

<h4>
<a name="clientclienttxt" class="anchor" href="#clientclienttxt"><span class="octicon octicon-link"></span></a>client/client.txt</h4>

<p>The first line is the language of the client, the second line is the file of the example client.  Any other files needed in the client folder can also be included.</p>

<pre><code>i.e.
  python
  test.py

i.e. test.py
  from pyes import *
  conn = ES('127.0.0.1:49153')
  print "connected successfully"
</code></pre>

<h4>
<a name="dockerdockerfile" class="anchor" href="#dockerdockerfile"><span class="octicon octicon-link"></span></a>docker/Dockerfile</h4>

<p>Dockerfile that actually builds the container needed to run the service, this should have an expose port so that the service is accessible remotely.  Any other needed files in the docker folder can also be included.</p>

<pre><code>i.e.
  FROM ubuntu
  MAINTAINER Charlie Lewis &lt;charlie.lewis42@gmail.com&gt; 

  ENV REFRESHED_AT 2013-10-25
  RUN sed 's/main$/main universe/' -i /etc/apt/sources.list
  RUN apt-get update
  RUN apt-get upgrade -y

  # Keep upstart from complaining
  RUN dpkg-divert --local --rename --add /sbin/initctl
  RUN ln -s /bin/true /sbin/initctl

  RUN apt-get install -y openjdk-6-jdk
  RUN apt-get install -y wget
  RUN apt-get install -y dpkg
  RUN wget --no-check-certificate https://download.elasticsearch.org/elasticsearch/elasticsearch/elasticsearch-0.90.2.deb
  RUN dpkg -i elasticsearch-0.90.2.deb
  RUN /usr/share/elasticsearch/bin/plugin -install mobz/elasticsearch-head
  RUN service elasticsearch stop

  EXPOSE 9200

  ENTRYPOINT ["/usr/share/elasticsearch/bin/elasticsearch", "-f"]
</code></pre>

<h4>
<a name="htmlabouthtml" class="anchor" href="#htmlabouthtml"><span class="octicon octicon-link"></span></a>html/about.html</h4>

<p>A brief chunk of prose on what the service is.</p>

<pre><code>i.e.
  Elasticsearch uses Lucene under the covers to provide the most powerful full text search capabilities available in any open source product. Search comes with multi-language support, a powerful query language, support for geolocation, context aware did-you-mean suggestions, autocomplete and search snippets.
</code></pre>

<h4>
<a name="htmlbodyhtml" class="anchor" href="#htmlbodyhtml"><span class="octicon octicon-link"></span></a>html/body.html</h4>

<p>A more in depth chunk of prose detailing the service.</p>

<pre><code>i.e.
  Elasticsearch uses Lucene under the covers to provide the most powerful full text search capabilities available in any open source product. Search comes with multi-language support, a powerful query language, support for geolocation, context aware did-you-mean suggestions, autocomplete and search snippets.
</code></pre>

<h4>
<a name="htmllinkhtml" class="anchor" href="#htmllinkhtml"><span class="octicon octicon-link"></span></a>html/link.html</h4>

<p>A single line that contains a URL for the service and a name for the link.</p>

<pre><code>i.e.
  http://www.elasticsearch.org/ ElasticSearch
</code></pre>

<p>Special thanks to <a href="http://github.com/kfoss">@kfoss</a> for contributing the artwork for Wharf!</p>

<p><a href="https://bitdeli.com/free" title="Bitdeli Badge"><img src="https://d2weczhvl823v0.cloudfront.net/cglewis/wharf/trend.png" alt="Bitdeli Badge"></a></p>
      </section>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-564818-10");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>